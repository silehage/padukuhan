import{r as w,b as Q,aB as D,aC as F,k as x,e as r,f as o,l,w as n,i as e,z as y,D as d,H as p,M as C,F as k,R,t as v,K as S,L as h,$ as H,v as T,E as j,G as z,U as L}from"./app-taOQa7aR.js";import{Q as V,a as P}from"./QCard-NR7lq7r0.js";import{a as G}from"./QSelect-Dv04X947.js";import{C as I}from"./ClosePopup-BJG76i6S.js";import{_ as g,a as _}from"./Input.vue_vue_type_script_setup_true_lang-CFozfg7e.js";import{_ as K}from"./Select.vue_vue_type_script_setup_true_lang-CnkVG5M8.js";import"./QInput-DfAcL1Mv.js";import"./private.use-form-Dm0ZC9ra.js";import"./QMenu-DtBE66YS.js";const M={class:"flex justify-end q-gutter-sm"},J={class:"table-responsive"},O={class:"table bordered"},W={key:0,class:"text-left uppercase"},X={class:"q-gutter-xs no-wrap"},Y={key:0},Z={class:"card-title flex justify-between items-center"},ee={class:"q-gutter-sm"},ae="User",me={__name:"Index",props:["data","roles"],setup(i){const m=w(!1),s=w(null),u=w(!1),U=()=>{s.value=null,u.value=!0,m.value=!0},E=f=>{s.value=f,u.value=!1,m.value=!0},b=f=>L(`${f} ${ae}`),$=()=>{m.value=!1},A=Q(()=>s.value?D.form(s.value.id):F.form());return(f,a)=>{const B=x("AppHeader"),N=x("AppPagination");return o(),r(k,null,[l(B,{title:"Users"},{default:n(()=>[e("div",M,[b("Create")?(o(),y(p,{key:0,color:"primary",onClick:U},{default:n(()=>a[2]||(a[2]=[C("Tambah User",-1)])),_:1,__:[2]})):d("",!0)])]),_:1}),l(P,{class:"section"},{default:n(()=>[l(V,null,{default:n(()=>[e("div",null,[e("div",J,[e("table",O,[e("thead",null,[e("tr",null,[a[3]||(a[3]=e("th",{class:"text-left uppercase"},"#",-1)),a[4]||(a[4]=e("th",{class:"text-left uppercase"},"Nama",-1)),a[5]||(a[5]=e("th",{class:"text-left uppercase"},"Email",-1)),a[6]||(a[6]=e("th",{class:"text-left uppercase"},"Role",-1)),b("Update")?(o(),r("th",W,"Aksi")):d("",!0)])]),e("tbody",null,[(o(!0),r(k,null,R(i.data.data,(t,c)=>(o(),r("tr",{key:c},[e("td",null,v(i.data.from+c),1),e("td",null,v(t.name),1),e("td",null,v(t.email),1),e("td",null,v(t.role?t.role.name:"-"),1),e("td",X,[b("Update")?(o(),y(p,{key:0,class:"btn-action","no-caps":"",color:"blue",onClick:q=>E(t)},{default:n(()=>a[7]||(a[7]=[C("Edit",-1)])),_:2,__:[7]},1032,["onClick"])):d("",!0)])]))),128)),i.data.total?d("",!0):(o(),r("tr",Y,a[8]||(a[8]=[e("td",{colspan:"20",class:"text-center"},"Tidak ada data",-1)])))])])]),l(N,S(h(i.data)),null,16)])]),_:1})]),_:1}),l(G,{modelValue:m.value,"onUpdate:modelValue":a[1]||(a[1]=t=>m.value=t)},{default:n(()=>[l(P,{class:"section card-lg"},{default:n(()=>[l(V,null,{default:n(()=>[e("div",Z,[a[9]||(a[9]=e("div",null,"Form User",-1)),H(l(p,{flat:"",round:"",icon:"close"},null,512),[[I]])]),l(T(j),z(A.value,{autocomplete:"off",onSuccess:$}),{default:n(({errors:t,processing:c})=>[e("div",ee,[e("div",null,[l(g,{defaultValue:s.value?s.value.name:"",label:"Nama",id:"name",name:"name",autocomplete:"off"},null,8,["defaultValue"]),l(_,{message:t.name},null,8,["message"])]),e("div",null,[l(g,{defaultValue:s.value?s.value.email:"",label:"Email",id:"email",name:"email",type:"email",autocomplete:"off"},null,8,["defaultValue"]),l(_,{message:t.email},null,8,["message"])]),e("div",null,[l(K,{defaultValue:s.value?s.value.role_id:"",label:"Role",id:"role",name:"role",options:i.roles,"emit-value":"","map-options":""},null,8,["defaultValue","options"]),l(_,{message:t.role},null,8,["message"])]),e("div",null,[u.value?d("",!0):(o(),y(p,{key:0,padding:"1px 4px",flat:"","no-caps":"",color:"primary",class:"q-my-xs",label:"Edit Password",onClick:a[0]||(a[0]=q=>u.value=!u.value)}))]),u.value?(o(),r(k,{key:0},[l(g,{label:"Password",id:"password",name:"password",autocomplete:"new-password"}),e("div",null,[l(g,{label:"Ulangi Password",id:"password_confirmation",name:"password_confirmation",type:"password_confirmation",autocomplete:""}),l(_,{message:t.password_confirmation},null,8,["message"])])],64)):d("",!0)]),l(p,{loading:c,label:"Submit",type:"submit",color:"primary",class:"full-width q-mt-lg"},null,8,["loading"])]),_:1},16)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{me as default};

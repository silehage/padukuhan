import{az as D,aA as $,aB as K,aC as L,r as k,i as h,e as i,f as d,j as l,w as u,g as e,x as b,B as p,E as m,K as C,F as w,O as Q,t as _,I as S,J as T,Z as j,q as P,C as F,D as I,aD as R,S as z}from"./app-Db9rl7LN.js";import{Q as V,a as E}from"./QCard-Bkazc3BX.js";import{a as H}from"./QSelect-BQpVw3aZ.js";import{_ as g,a as y}from"./Input.vue_vue_type_script_setup_true_lang-B47ADq5X.js";import{_ as J}from"./Select.vue_vue_type_script_setup_true_lang-CkJ2F6dm.js";import"./QInput-C0vnRVYP.js";import"./private.use-form-B2HO7laS.js";import"./QMenu-DuTYB5a8.js";function q(a){if(a===!1)return 0;if(a===!0||a===void 0)return 1;const o=parseInt(a,10);return isNaN(o)?0:o}const M=D({name:"close-popup",beforeMount(a,{value:o}){const s={depth:q(o),handler(r){s.depth!==0&&setTimeout(()=>{const c=K(a);c!==void 0&&L(c,r,s.depth)})},handlerKey(r){$(r,13)===!0&&s.handler(r)}};a.__qclosepopup=s,a.addEventListener("click",s.handler),a.addEventListener("keyup",s.handlerKey)},updated(a,{value:o,oldValue:s}){o!==s&&(a.__qclosepopup.depth=q(o))},beforeUnmount(a){const o=a.__qclosepopup;a.removeEventListener("click",o.handler),a.removeEventListener("keyup",o.handlerKey),delete a.__qclosepopup}}),O={class:"flex justify-end q-gutter-sm"},Z={class:"table-responsive"},G={class:"table bordered"},W={key:0,class:"text-left uppercase"},X={class:"q-gutter-xs no-wrap"},Y={key:0},ee={class:"card-title flex justify-between items-center"},ae={class:"q-gutter-sm"},te="User",pe={__name:"Index",props:["data","roles"],setup(a){const o=k(!1),s=k(null),r=k(!1),c=()=>{s.value=null,r.value=!0,o.value=!0},U=f=>{s.value=f,r.value=!1,o.value=!0},x=f=>z(`${f} ${te}`);return(f,t)=>{const N=h("AppHeader"),A=h("AppPagination");return d(),i(w,null,[l(N,{title:"Users"},{default:u(()=>[e("div",O,[x("Create")?(d(),b(m,{key:0,color:"primary",onClick:c},{default:u(()=>t[2]||(t[2]=[C("Tambah User",-1)])),_:1,__:[2]})):p("",!0)])]),_:1}),l(E,{class:"section"},{default:u(()=>[l(V,null,{default:u(()=>[e("div",null,[e("div",Z,[e("table",G,[e("thead",null,[e("tr",null,[t[3]||(t[3]=e("th",{class:"text-left uppercase"},"#",-1)),t[4]||(t[4]=e("th",{class:"text-left uppercase"},"Nama",-1)),t[5]||(t[5]=e("th",{class:"text-left uppercase"},"Email",-1)),t[6]||(t[6]=e("th",{class:"text-left uppercase"},"Role",-1)),x("Update")?(d(),i("th",W,"Aksi")):p("",!0)])]),e("tbody",null,[(d(!0),i(w,null,Q(a.data.data,(n,v)=>(d(),i("tr",{key:v},[e("td",null,_(a.data.from+v),1),e("td",null,_(n.name),1),e("td",null,_(n.email),1),e("td",null,_(n.role?n.role.name:"-"),1),e("td",X,[x("Update")?(d(),b(m,{key:0,class:"btn-action","no-caps":"",color:"blue",onClick:B=>U(n)},{default:u(()=>t[7]||(t[7]=[C("Edit",-1)])),_:2,__:[7]},1032,["onClick"])):p("",!0)])]))),128)),a.data.total?p("",!0):(d(),i("tr",Y,t[8]||(t[8]=[e("td",{colspan:"20",class:"text-center"},"Tidak ada data",-1)])))])])]),l(A,S(T(a.data)),null,16)])]),_:1})]),_:1}),l(H,{modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=n=>o.value=n)},{default:u(()=>[l(E,{class:"section card-lg"},{default:u(()=>[l(V,null,{default:u(()=>[e("div",ee,[t[9]||(t[9]=e("div",null,"Form User",-1)),j(l(m,{flat:"",round:"",icon:"close"},null,512),[[M]])]),l(P(F),I(P(R)(),{autocomplete:"off"}),{default:u(({errors:n,processing:v})=>[e("div",ae,[e("div",null,[l(g,{defaultValue:s.value?s.value.name:"",label:"Nama",id:"name",name:"name",autocomplete:"off"},null,8,["defaultValue"]),l(y,{message:n.name},null,8,["message"])]),e("div",null,[l(g,{defaultValue:s.value?s.value.email:"",label:"Email",id:"email",name:"email",type:"email",autocomplete:"off"},null,8,["defaultValue"]),l(y,{message:n.email},null,8,["message"])]),e("div",null,[l(J,{defaultValue:s.value?s.value.role_id:"",label:"Role",id:"role",name:"role",options:a.roles,"emit-value":"","map-options":""},null,8,["defaultValue","options"]),l(y,{message:n.role},null,8,["message"])]),e("div",null,[r.value?p("",!0):(d(),b(m,{key:0,padding:"1px 4px",flat:"","no-caps":"",color:"primary",class:"q-my-xs",label:"Edit Password",onClick:t[0]||(t[0]=B=>r.value=!r.value)}))]),r.value?(d(),i(w,{key:0},[l(g,{label:"Password",id:"password",name:"password",type:"password",autocomplete:"new-password"}),e("div",null,[l(g,{label:"Ulangi Password",id:"password_confirmation",name:"password_confirmation",type:"password_confirmation",autocomplete:""}),l(y,{message:n.password_confirmation},null,8,["message"])])],64)):p("",!0)]),l(m,{loading:v,label:"Submit",color:"primary",class:"full-width q-mt-lg"},null,8,["loading"])]),_:1},16)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{pe as default};
